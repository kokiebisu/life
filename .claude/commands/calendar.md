# Calendar

Notion カレンダーの予定を取得・追加する。

## 予定の取得

```bash
bun run scripts/notion-list.ts                    # 今日の予定
bun run scripts/notion-list.ts --days 7           # 今後7日間
bun run scripts/notion-list.ts --date 2026-02-14  # 指定日
bun run scripts/notion-list.ts --json             # JSON出力
```

## 予定の追加

```bash
bun run scripts/notion-add.ts --title "タイトル" --date YYYY-MM-DD --start HH:MM --end HH:MM
bun run scripts/notion-add.ts --title "タイトル" --date YYYY-MM-DD --allday
```

説明はページ作成後に `notion-update-page` の `replace_content` で本文に書く。

## Steps

1. ユーザーの要望を確認（取得 or 追加）
2. 適切なスクリプトを実行
3. 結果をわかりやすく表示

## デイリープラン作成時の DB 使い分け

デイリープランのルーティンを Notion に登録するとき、**各項目は適切な DB に振り分ける:**

| 項目 | DB | 理由 |
|------|-----|------|
| 食事（朝食・昼食・夕食） | meals | 週次献立（`aspects/diet/weekly/`）からメニュー名・kcal を取得してタイトルに反映 |
| ギター練習 | guitar | カリキュラム（`aspects/guitar/phase*/`）から次のレッスンを取得してタイトルに反映 |
| 買い出し・買い物 | groceries | 食材・日用品の買い出し。meals DB には入れない |
| それ以外のルーティン | routine | 通常のルーティン |

- **食事**: 「朝食」「昼食」「夕食」ではなく、献立名で登録する（例: `ツナとアボカドのサラダ丼`）。週次献立ファイルから該当日のメニューを参照する
- **ギター**: 「ギター練習」ではなく、具体的なレッスン名で登録する（例: `Lesson 3: インターバルを指板で使いこなす（瀬戸）`）

## スケジュールの好み

### ブロック間のバッファ（推奨）

- デイリープランを作るとき、**各ブロックの間に 15 分程度のバッファを入れる**
- 朝のルーティン（Devotion→シャワー→朝食）も含めて全ブロック間にバッファを入れる
- 外出を伴う予定（ジム見学・買い物等）の前後は余裕を持たせる
- バッファなしでびっしり詰めない

### 買い出し後の下準備ブロック（必須）

- 買い出しをスケジュールに入れるとき、**直後に「食材整理・下準備」（30分）も必ずセットで入れる**
- DB は groceries（買い出しDB）に登録する
- ページ本文にチェックリスト（to_do ブロック）を書き込む（空ページ禁止）
- チェックリストの内容: 冷蔵/冷凍/常温の仕分け、冷凍食材の小分け、当日の食材取り出し、炊飯等
- 買い出しだけ登録して下準備を忘れない

### 食事の時間（必須）

- 食事ブロックは**1時間**で確保する（30分は短すぎる）
- 調理＋食事＋片付けを含めてゆとりを持たせる

### ルーティンの頻度目安

| ルーティン | 頻度 | 備考 |
|-----------|------|------|
| 投資リサーチ | 週1回 | 毎日入れなくてよい |

## Feedback の永続反映

Notion タスクに Feedback がある場合、**次回同種のタスク作成時に必ず反映する。**

1. タスク完了時に Feedback を確認
2. 該当 aspect の `CLAUDE.md` に学びとして蓄積
3. 次回同じタスクを立てるとき、過去の Feedback を踏まえた内容にする
