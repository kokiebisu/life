# Event - イベント登録

ユーザーが口頭でイベントを伝えたら、適切な日時を判断してNotionカレンダーに登録する。

## Steps

1. **現在のカレンダーを確認する**
   ```bash
   bun run scripts/notion-list.ts --days 7 --json
   ```

2. **ユーザーの入力を分析する**
   - イベント名・内容
   - 日時のヒント（「来週」「金曜に」「明後日」など）
   - 所要時間の推定
   - 依存関係（「ジムの後」「開発の合間」など）

3. **日時を決定する** — 以下を考慮:
   - **既存の予定との衝突を避ける**（カレンダーの空き時間に入れる）
   - **理想のルーティン**を尊重する（`aspects/planning/routine.md` 参照）:
     - 午前 9-12: tsumugi開発（集中タイム。ここには入れない）
     - 昼 12-14: 昼食 + 運動
     - 午後 14-17: tsumugi開発 or 営業
     - 夕方 17-18: ギター練習
     - 夜 18-20: study / 読書 / 自由時間
     - 日曜 13-19: 教会
   - **優先度**: tsumugi > 運動 > ギター > 投資 > study > 読書 > 福岡
   - **ユーザーが明示した日時があればそれを最優先**する

4. **提案してから登録する**
   - 決定した日時とイベント内容をユーザーに提示する
   - 確認を得てから登録する（間違った時間に入れると困るため）

5. **Notionに登録する**
   ```bash
   bun run scripts/notion-add.ts --title "イベント名" --date YYYY-MM-DD --start HH:MM --end HH:MM
   bun run scripts/notion-add.ts --title "イベント名" --date YYYY-MM-DD --allday  # 終日イベント
   # 説明がある場合:
   bun run scripts/notion-add.ts --title "イベント名" --date YYYY-MM-DD --start HH:MM --end HH:MM --desc "説明"
   ```

6. **登録結果を報告する**

## 注意

- **既存イベントは絶対に上書き・削除しない。** 新規追加のみ行う。
- 既存イベントと重複するタスクは登録しない（空き時間にのみ追加する）。
- 日時が曖昧な場合は必ず確認する。勝手に決めすぎない。
- 複数日にまたがるイベントは日ごとに分けて登録する。
- `$ARGUMENTS` にイベント内容が入る。
